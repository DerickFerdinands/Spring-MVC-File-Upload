<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spring - File Upload</title>
    <link rel="stylesheet" href="assets/CSS/bootstrap.min.css">
</head>
<body>
<main class="container">
    <form id="fileSelector" enctype="multipart/form-data" >
        <input id="imageSelector" type="file" name="file" >
        <input id="btnUpload" type="submit" value="Upload">
    </form>
    <img id="imageView" height="500" width="500" style="border: 1px Solid Black" src="" alt="">

</main>
<script src="assets/JS/jquery-3.6.3.min.js"></script>
<script src="assets/JS/bootstrap.min.js"></script>
<script>
    let baseUrl ="http://localhost:8080/SpringMVC_File_Upload_war_exploded/";

    let testXhr;
    $( '#fileSelector' )
        .submit( function( e ) {
            $.ajax( {
                url: baseUrl+"upload",
                type: 'POST',
                data: new FormData(this),
                processData: false,
                contentType: false,
                success:function (data, status, xhr) {
                    var contentType = xhr.getResponseHeader('Content-Type');
                    var blob = new Blob([data], { type: contentType });
                    var url = URL.createObjectURL(blob);
                    var img = new Image();
                    img.src = url;
                    document.body.appendChild(img);
                }
            } );
            e.preventDefault();
        } );

</script>
</body>
</html>